<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>ActiveWidgets Examples</title>

<!-- fix box model in firefox/safari/opera -->
<style type="text/css">
	.aw-quirks * {
		box-sizing: border-box;
		-moz-box-sizing: border-box;
		-webkit-box-sizing: border-box;
	}

	body {font: 12px Tahoma}
</style>

<!-- include links to the script and stylesheet files -->
	<script src="../../runtime/lib/aw.js" type="text/javascript"></script>
	<link href="../../runtime/styles/system/aw.css" rel="stylesheet">

<!-- add icon libraries -->
	<link href="mini.css" rel="stylesheet"></link>
	<link href="flags.css" rel="stylesheet"></link>

<!-- add custom icons -->
<style type="text/css">

	.aw-image-world {background:url(world.gif) 1px 1px no-repeat}

</style>

<!-- change default styles, set control size and position -->
<style type="text/css">

	#myGrid .aw-column-0 {width: 50px; text-align: center}
	#myGrid .aw-column-1 {width: 150px}
	#myGrid .aw-column-2 {text-align: right}
	#myGrid .aw-column-3 {text-align: center}

</style>
</head>
<body>
	<h3>Grid CSV - images in the extra column</h3>
	<p><a href="image.csv">CSV data file</a></p>
	<p>Use AW.Templates.ImageText or AW.Templates.Image for the image columns</p>
	<pre>	grid.setCellTemplate(new AW.Templates.ImageText, 1)</pre>
	<p>add getImage() method and return getData() for the image column</p>
	<pre>	data.getImage = function(col, row){
		return this.getData(4, row); // image in the 5th column
	}</pre>

<!-- insert control tag -->
	<span id="myGrid"></span>

	<p>Back to <a href="index.htm">image examples</a>, <a href="../index.htm">all examples</a></p>

<!-- create controls -->
<script type="text/javascript">

	var data = new AW.CSV.Table;
	data.setURL("image.csv");
	data.request();

	// add getImage method returning 'image' attribute for each node
	data.getImage = function(col, row){
		return this.getData(4, row); // image in the 5th column
	}

	var headers = ["Rank", "Country", "Internet users", "Data from"];

	var num = new AW.Formats.Number;
	num.setTextFormat("#,###.");

	var grid = new AW.UI.Grid;
	grid.setId("myGrid");
	grid.setHeaderText(headers);
	grid.setCellTemplate(new AW.Templates.ImageText, 1); // image & text template for the 2nd column
	grid.setCellFormat(num, 2);
	grid.setColumnCount(4);
	grid.refresh();

	// attach external data model
	grid.setCellModel(data);

</script>
</body>
</html>